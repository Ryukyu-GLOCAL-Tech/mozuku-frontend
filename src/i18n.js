import i18n from 'i18next';
import { initReactI18next } from 'react-i18next';

// Translation resources
const resources = {
  en: {
    translation: {
      // Navigation
      "nav.dashboard": "Dashboard",
      "nav.history": "History",
      "nav.logout": "Logout",
      
      // Dashboard Page
      "dashboard.title": "Mozuku Impurity Detection System",
      "dashboard.welcome": "Welcome to Mozuku Detection",
      "dashboard.description": "Your impurity detection system is running. Connect your ROS2 camera system to start monitoring for impurities in real-time.",
      "dashboard.statsToday": "Today's Statistics",
      "dashboard.statsOverall": "Overall Statistics",
      "dashboard.totalDetections": "Total Detections",
      "dashboard.impuritiesFound": "Impurities Found",
      "dashboard.detectionRate": "Detection Rate",
      "dashboard.activeSessions": "Active Sessions",
      "dashboard.ros2Control": "ROS2 Launch Files Control",
      "dashboard.launchFiles": "Launch Files",
      "dashboard.cameraBringup": "Camera Bringup",
      "dashboard.nozzleControl": "Nozzle Control (SDM Bridge)",
      "dashboard.status": "Status",
      "dashboard.start": "Start",
      "dashboard.stop": "Stop",
      "dashboard.starting": "Starting...",
      "dashboard.stopping": "Stopping...",
      "dashboard.running": "Running",
      "dashboard.stopped": "Stopped",
      "dashboard.failed": "Failed",
      "dashboard.dynamicModel": "Dynamic Model Management",
      "dashboard.selectModel": "Select YOLOv8 Model",
      "dashboard.default": "Default",
      "dashboard.applyModel": "Apply Model",
      "dashboard.applying": "Applying...",
      "dashboard.uploadModel": "Upload Custom Model",
      "dashboard.chooseFile": "Choose File",
      "dashboard.upload": "Upload",
      "dashboard.uploading": "Uploading...",
      "dashboard.modelInfo": "Model Format: .pt file (PyTorch)",
      "dashboard.noActiveSession": "No Active Session (will auto-start)",
      "dashboard.activeSession": "Active Session (auto-managed)",
      "dashboard.detectionResults": "Detection Results",
      "dashboard.fullFrame": "Full Camera Frame with Detections",
      "dashboard.waitingForFrame": "Waiting for frame data...",
      "dashboard.startAll": "Start All",
      "dashboard.stopAll": "Stop All",
      "dashboard.modelUrl": "YOLOv8 Model URL (S3 or HTTPS)",
      "dashboard.modelUrlPlaceholder": "e.g., s3://my-bucket/models/best.pt or https://example.com/best.pt",
      "dashboard.modelUrlHint": "Leave empty to use default model (best.pt from package resources)",
      "dashboard.welcomeUser": "Welcome",
      "dashboard.to": "to",
      
      // History Page
      "history.title": "Detection History",
      "history.search": "Search...",
      "history.filters": "Filters",
      "history.startDate": "Start Date",
      "history.endDate": "End Date",
      "history.status": "Status",
      "history.allStatuses": "All Statuses",
      "history.completed": "Completed",
      "history.active": "Active",
      "history.sortBy": "Sort By",
      "history.startTime": "Start Time",
      "history.totalDetections": "Total Detections",
      "history.detectionRate": "Detection Rate",
      "history.order": "Order",
      "history.newest": "Newest First",
      "history.oldest": "Oldest First",
      "history.sessionId": "Session ID",
      "history.started": "Started",
      "history.duration": "Duration",
      "history.frames": "Frames",
      "history.detections": "Detections",
      "history.impurities": "Impurities",
      "history.rate": "Rate",
      "history.viewDetails": "View Details",
      "history.noSessions": "No sessions found",
      "history.tryAdjusting": "Try adjusting your filters or date range",
      "history.page": "Page",
      "history.of": "of",
      "history.previous": "Previous",
      "history.next": "Next",
      
      // Session Details Modal
      "session.details": "Session Details",
      "session.overview": "Session Overview",
      "session.sessionInfo": "Session Information",
      "session.detectionFrames": "Detection Frames",
      "session.frame": "Frame",
      "session.time": "Time",
      "session.close": "Close",
      "session.loading": "Loading frames...",
      "session.noFrames": "No frames available",
      "session.totalFrames": "Total Frames",
      "session.totalDetections": "Total Detections",
      "session.impuritiesFound": "Impurities Found",
      "session.avgDetections": "Avg Detections/Frame",
      "session.useArrows": "Use arrows to navigate frames",
      "session.endTime": "End Time",
      "session.duration": "Duration",
      
      // Labeling
      "labeling.editLabels": "Edit Labels",
      "labeling.saveLabels": "Save Labels",
      "labeling.saving": "Saving...",
      "labeling.cancel": "Cancel",
      "labeling.editMode": "Edit Mode",
      "labeling.viewMode": "View Mode",
      "labeling.status": "Label Status",
      "labeling.verified": "Verified",
      "labeling.autoLabeled": "Auto-labeled",
      "labeling.saveSuccess": "Labels saved successfully!",
      "labeling.saveError": "Failed to save labels",
      "labeling.instructions": "Click and drag to draw new bounding boxes. Click 'Keep' to verify detections or 'Delete' to mark as false positives.",
      "labeling.detectionList": "Detection List",
      "labeling.confidence": "Confidence",
      "labeling.keep": "Keep",
      "labeling.delete": "Delete",
      "labeling.added": "Added",
      "labeling.original": "Original",
      
      // Login Page
      "login.title": "Mozuku AI",
      "login.subtitle": "Impurity Detection System",
      "login.username": "Username",
      "login.password": "Password",
      "login.enterUsername": "Enter your username",
      "login.enterPassword": "Enter your password",
      "login.signIn": "Sign In",
      "login.signingIn": "Signing In...",
      "login.forgotPassword": "Forgot your password?",
      "login.needHelp": "Need help?",
      "login.contactAdmin": "Contact Admin",
      "login.newPassword": "New Password",
      "login.confirmPassword": "Confirm Password",
      "login.minChars": "Min 8 characters",
      "login.confirmPasswordPlaceholder": "Confirm password",
      "login.setNewPassword": "Set New Password",
      "login.settingPassword": "Setting Password...",
      "login.pleaseSetNewPassword": "Please set a new password to continue",
      "login.signInFailed": "Sign in failed",
      "login.passwordsDoNotMatch": "Passwords do not match",
      "login.passwordMinLength": "Password must be at least 8 characters",
      "login.failedToChangePassword": "Failed to change password",
      
      // Common
      "common.loading": "Loading...",
      "common.error": "Error",
      "common.success": "Success",
      "common.cancel": "Cancel",
      "common.save": "Save",
      "common.delete": "Delete",
      "common.edit": "Edit",
      "common.view": "View",
      "common.authenticated": "Authenticated",
      "common.notAuthenticated": "Not authenticated. Please login first.",
      "common.errorPrefix": "Error",
      "common.unknownError": "Unknown error",
      "common.failedToSendCommand": "Failed to send command"
    }
  },
  ja: {
    translation: {
      // Navigation
      "nav.dashboard": "ダッシュボード",
      "nav.history": "履歴",
      "nav.logout": "ログアウト",
      
      // Dashboard Page
      "dashboard.title": "もずく異物検出システム",
      "dashboard.welcome": "もずく検出へようこそ",
      "dashboard.description": "異物検出システムが起動しています。ROS2カメラシステムを接続して、リアルタイムで異物の監視を開始してください。",
      "dashboard.statsToday": "本日の統計",
      "dashboard.statsOverall": "全体統計",
      "dashboard.totalDetections": "総検出数",
      "dashboard.impuritiesFound": "発見された異物",
      "dashboard.detectionRate": "検出率",
      "dashboard.activeSessions": "アクティブセッション",
      "dashboard.ros2Control": "ROS2起動ファイル制御",
      "dashboard.launchFiles": "起動ファイル",
      "dashboard.cameraBringup": "カメラ起動",
      "dashboard.nozzleControl": "ノズル制御（SDMブリッジ）",
      "dashboard.status": "ステータス",
      "dashboard.start": "開始",
      "dashboard.stop": "停止",
      "dashboard.starting": "開始中...",
      "dashboard.stopping": "停止中...",
      "dashboard.running": "実行中",
      "dashboard.stopped": "停止",
      "dashboard.failed": "失敗",
      "dashboard.dynamicModel": "動的モデル管理",
      "dashboard.selectModel": "YOLOv8モデルを選択",
      "dashboard.default": "デフォルト",
      "dashboard.applyModel": "モデルを適用",
      "dashboard.applying": "適用中...",
      "dashboard.uploadModel": "カスタムモデルをアップロード",
      "dashboard.chooseFile": "ファイルを選択",
      "dashboard.upload": "アップロード",
      "dashboard.uploading": "アップロード中...",
      "dashboard.modelInfo": "モデル形式: .ptファイル（PyTorch）",
      "dashboard.noActiveSession": "アクティブセッションなし（自動開始）",
      "dashboard.activeSession": "アクティブセッション（自動管理）",
      "dashboard.detectionResults": "検出結果",
      "dashboard.fullFrame": "検出付き全カメラフレーム",
      "dashboard.waitingForFrame": "フレームデータを待っています...",
      "dashboard.startAll": "すべて開始",
      "dashboard.stopAll": "すべて停止",
      "dashboard.modelUrl": "YOLOv8モデルURL（S3またはHTTPS）",
      "dashboard.modelUrlPlaceholder": "例: s3://my-bucket/models/best.pt または https://example.com/best.pt",
      "dashboard.modelUrlHint": "空白のままにするとデフォルトモデルを使用します（パッケージリソースのbest.pt）",
      "dashboard.welcomeUser": "ようこそ",
      "dashboard.to": "〜",
      
      // History Page
      "history.title": "検出履歴",
      "history.search": "検索...",
      "history.filters": "フィルター",
      "history.startDate": "開始日",
      "history.endDate": "終了日",
      "history.status": "ステータス",
      "history.allStatuses": "全てのステータス",
      "history.completed": "完了",
      "history.active": "アクティブ",
      "history.sortBy": "並び替え",
      "history.startTime": "開始時刻",
      "history.totalDetections": "総検出数",
      "history.detectionRate": "検出率",
      "history.order": "順序",
      "history.newest": "新しい順",
      "history.oldest": "古い順",
      "history.sessionId": "セッションID",
      "history.started": "開始",
      "history.duration": "期間",
      "history.frames": "フレーム",
      "history.detections": "検出",
      "history.impurities": "異物",
      "history.rate": "率",
      "history.viewDetails": "詳細を表示",
      "history.noSessions": "セッションが見つかりません",
      "history.tryAdjusting": "フィルターまたは日付範囲を調整してください",
      "history.page": "ページ",
      "history.of": "/",
      "history.previous": "前へ",
      "history.next": "次へ",
      
      // Session Details Modal
      "session.details": "セッション詳細",
      "session.overview": "セッション概要",
      "session.sessionInfo": "セッション情報",
      "session.detectionFrames": "検出フレーム",
      "session.frame": "フレーム",
      "session.time": "時刻",
      "session.close": "閉じる",
      "session.loading": "フレーム読み込み中...",
      "session.noFrames": "利用可能なフレームがありません",
      "session.totalFrames": "総フレーム数",
      "session.totalDetections": "総検出数",
      "session.impuritiesFound": "発見された異物",
      "session.avgDetections": "平均検出数/フレーム",
      "session.useArrows": "矢印キーでフレームを移動",
      "session.endTime": "終了時刻",
      "session.duration": "期間",
      
      // Labeling
      "labeling.editLabels": "ラベル編集",
      "labeling.saveLabels": "ラベル保存",
      "labeling.saving": "保存中...",
      "labeling.cancel": "キャンセル",
      "labeling.editMode": "編集モード",
      "labeling.viewMode": "表示モード",
      "labeling.status": "ラベル状態",
      "labeling.verified": "検証済み",
      "labeling.autoLabeled": "自動ラベル付け",
      "labeling.saveSuccess": "ラベルが正常に保存されました！",
      "labeling.saveError": "ラベルの保存に失敗しました",
      "labeling.instructions": "クリックしてドラッグすると新しいバウンディングボックスを描画できます。「保持」をクリックして検出を確認するか、「削除」をクリックして誤検出としてマークします。",
      "labeling.detectionList": "検出リスト",
      "labeling.confidence": "信頼度",
      "labeling.keep": "保持",
      "labeling.delete": "削除",
      "labeling.added": "追加済み",
      "labeling.original": "元の",
      
      // Login Page
      "login.title": "もずく AI",
      "login.subtitle": "異物検出システム",
      "login.username": "ユーザー名",
      "login.password": "パスワード",
      "login.enterUsername": "ユーザー名を入力",
      "login.enterPassword": "パスワードを入力",
      "login.signIn": "ログイン",
      "login.signingIn": "ログイン中...",
      "login.forgotPassword": "パスワードをお忘れですか？",
      "login.needHelp": "お困りですか？",
      "login.contactAdmin": "管理者に連絡",
      "login.newPassword": "新しいパスワード",
      "login.confirmPassword": "パスワードを確認",
      "login.minChars": "8文字以上",
      "login.confirmPasswordPlaceholder": "パスワードを確認",
      "login.setNewPassword": "新しいパスワードを設定",
      "login.settingPassword": "設定中...",
      "login.pleaseSetNewPassword": "続行するには新しいパスワードを設定してください",
      "login.signInFailed": "ログインに失敗しました",
      "login.passwordsDoNotMatch": "パスワードが一致しません",
      "login.passwordMinLength": "パスワードは8文字以上である必要があります",
      "login.failedToChangePassword": "パスワードの変更に失敗しました",
      
      // Common
      "common.loading": "読み込み中...",
      "common.error": "エラー",
      "common.success": "成功",
      "common.cancel": "キャンセル",
      "common.save": "保存",
      "common.delete": "削除",
      "common.edit": "編集",
      "common.view": "表示",
      "common.authenticated": "認証済み",
      "common.notAuthenticated": "認証されていません。最初にログインしてください。",
      "common.errorPrefix": "エラー",
      "common.unknownError": "不明なエラー",
      "common.failedToSendCommand": "コマンドの送信に失敗しました"
    }
  }
};

i18n
  .use(initReactI18next)
  .init({
    resources,
    lng: localStorage.getItem('language') || 'ja', // Default language from localStorage or 'ja' (Japanese)
    fallbackLng: 'ja',
    interpolation: {
      escapeValue: false // React already escapes values
    }
  });

export default i18n;
